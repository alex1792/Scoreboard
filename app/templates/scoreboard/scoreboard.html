{% extends "base.html" %}

{% block title %}
Scoreboard
{% endblock %}

{% block header %}
<h2>Scoreboard Page</h2>
{% endblock %}

{% block content %}
<div class="match-info">
    <p>{{ player1_name }} vs {{ player2_name }}</p>
</div>

<div class="scores">
    <div class="score-container">
        <span id="player1-score">{{ score1 }}</span> - 
        <span id="player2-score">{{ score2 }}</span>
    </div>
</div>

{% if current_user.is_judge %}
<div class="button-container">
    <!-- Player1 +1 -->
    <form action="/update_score" method="post">
        <input type="hidden" name="player" value="Player1">
        <input type="hidden" name="score" value="1">
        <button type="submit">Player1 +1</button>
    </form>

    <!-- Player2 +1 -->
    <form action="/update_score" method="post">
        <input type="hidden" name="player" value="Player2">
        <input type="hidden" name="score" value="1">
        <button type="submit">Player2 +1</button>
    </form>

    <!-- Player1 -1 -->
    <form action="/update_score" method="post">
        <input type="hidden" name="player" value="Player1">
        <input type="hidden" name="score" value="-1">
        <button type="submit">Player1 -1</button>
    </form>

    <!-- Player2 -1 -->
    <form action="/update_score" method="post">
        <input type="hidden" name="player" value="Player2">
        <input type="hidden" name="score" value="-1">
        <button type="submit">Player2 -1</button>
    </form>
</div>
{% endif %}
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='scoreboard.js') }}"></script>
<script>
// Custom JavaScript for scoreboard page
socket.on('score_update', (data) => {
    document.getElementById('player1-score').textContent = data.score1;
    document.getElementById('player2-score').textContent = data.score2;
});
</script>
{% endblock %}
