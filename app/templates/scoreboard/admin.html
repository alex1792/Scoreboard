{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}Update User Role{% endblock %}</h1>
{% endblock %}

{% block content %}
  <form method="post">
    <!-- Username input -->
    <label for="username">Username</label>
    <input name="username" id="username" required>

    <!-- Dropdown menu for is_judge -->
    <label for="is_judge">Set Judge Role</label>
    <select name="is_judge" id="is_judge" required>
      <option value="true">True</option>
      <option value="false">False</option>
    </select>

    <!-- Submit button -->
    <input type="submit" value="Update Role">
  </form>
{% endblock %}

{% block scripts %}
<script src="https://cdn.socket.io/4.8.1/socket.io.min.js" integrity="sha384-mkQ3/7FUtcGyoppY6bz/PORYoGqOl7/aSUMn2ymDOJcapfS6PHqxhRTMh1RR0Q6+" crossorigin="anonymous"></script>
<!-- 在此处添加全局脚本或扩展点 -->
<!-- <script src="{{ url_for('static', filename='socketio.js') }}"></script> include Socket.IO client library -->
<script>
    // global Socket.IO client logic
    const socket = io('/admin'); // connect to namespace '/admin'
    socket.on('user_role_updated', (data) => {
        console.log('User role updated:', data);
        // update page logic
    });
</script>
{% endblock %}